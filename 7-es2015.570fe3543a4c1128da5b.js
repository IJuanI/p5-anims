(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{MrBB:function(t,i,e){"use strict";e.r(i),e.d(i,"CoulombModule",function(){return y});var s=e("ofXK"),h=e("5RNC"),n=e("tyNb"),a=e("wpM9"),r=e("fXoL"),o=e("NCWt"),c=e.n(o),l=e("WJRs");const d=["width","","height",""];let u=(()=>{class t{constructor(t){this.elRef=t}ngAfterViewInit(){new c.a(t=>{t.setup=()=>{var i,e;t.cursor(t.CROSS);const s=t.createCanvas(this.width,this.height,!0===this.webGL?t.WEBGL:t.P2D);s.parent(this.elRef.nativeElement),null===(e=(i=this.canvasImpl).setup)||void 0===e||e.call(i,t,s)},t.windowResized=()=>{var i,e;t.resizeCanvas(this.width,this.height),null===(e=(i=this.canvasImpl).windowResized)||void 0===e||e.call(i,t)},t.draw=()=>{var i,e;t.clear(),t.fill(255,0),null===(e=(i=this.canvasImpl).draw)||void 0===e||e.call(i,t)},t.mousePressed=i=>{var e,s;return null===(s=(e=this.canvasImpl).mousePressed)||void 0===s?void 0:s.call(e,t,i)},t.mouseDragged=i=>{var e,s;return null===(s=(e=this.canvasImpl).mouseDragged)||void 0===s?void 0:s.call(e,t,i)},t.mouseReleased=i=>{var e,s;return null===(s=(e=this.canvasImpl).mouseReleased)||void 0===s?void 0:s.call(e,t,i)},t.touchStarted=i=>{var e,s;return null===(s=(e=this.canvasImpl).touchStarted)||void 0===s?void 0:s.call(e,t,i)},t.touchMoved=i=>{var e,s;return null===(s=(e=this.canvasImpl).touchMoved)||void 0===s?void 0:s.call(e,t,i)},t.touchEnded=i=>{var e,s;return null===(s=(e=this.canvasImpl).touchEnded)||void 0===s?void 0:s.call(e,t,i)}})}}return t.\u0275fac=function(i){return new(i||t)(r.Mb(r.l))},t.\u0275cmp=r.Gb({type:t,selectors:[["ceich-canvas","width","","height",""]],contentQueries:function(t,i,e){if(1&t&&r.Fb(e,l.a,1),2&t){let t;r.fc(t=r.Zb())&&(i.canvasImpl=t.first)}},inputs:{width:"width",height:"height",webGL:"webGL"},attrs:d,decls:0,vars:0,template:function(t,i){},encapsulation:2}),t})();class g{constructor(t,i,e,s){this.x=t,this.y=i,this.z=e,this.w=s}static get ZERO(){return new g(0,0)}clone(){return new g(this.x,this.y,this.z,this.w)}get length(){return Math.sqrt(this.sqrLength)}get sqrLength(){let t=this.x*this.x+this.y*this.y;return this.z&&(t+=this.z*this.z),this.w&&(t+=this.w*this.w),t}add(t){return this.x+=t.x,this.y+=t.y,this.z?this.z+=t.z:this.z=t.z,this.w?this.w+=t.w:this.w=t.w,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z?this.z-=t.z:this.z=-t.z,this.w?this.w-=t.w:this.w=-t.w,this}mul(t){return"number"==typeof t&&(this.x*=t,this.y*=t,this.z*=t,this.w*=t),this}}class p extends class{constructor(t,i){this.position=t,this.velocity=i||new g(0,0)}tick(t){const i=t.deltaTime/1e3;this.drag&&this.velocity.mul(1-this.drag*i),this.position.add(this.velocity.clone().mul(i))}move(t){this.position.add(t)}push(t){this.velocity.add(t)}}{draw(t,i){!1!==i&&this.tick(t),t.point(this.position.x,this.position.y,this.position.z)}}var w=e("GwW/");const m=["charge",""];let v=(()=>{class t extends a.b{constructor(t){super(),this.color=t,this.k0=1e4,this.mainBorder=2,this.mainMinRadius=12,this.mainMaxRadius=35,this.sideMinRadius=1,this.sideMaxRadius=8,this.spawnRatio=15,this.chargeVariation=10,this.particles=[],this.dragging=!1}setup(t,i){this.render=i,this.updateSize(),this.mainCharge=new p(new g(this.w/2,this.h/2))}updateSize(){const t=this.render.elt.getBoundingClientRect();this.w=t.width,this.h=t.height,this.offsetX=t.left,this.offsetY=t.top}draw(t){this.w===t.width&&this.h===t.height||this.updateSize(),this.spawnParticles(t),this.applyElectricForces(t),this.despawnParticles(t),this.drawSideParticles(t),this.drawMainParticle(t)}mousePressed(t,i){i.x<this.offsetX||i.x>this.w+this.offsetX||i.y<this.offsetY||i.y>this.h+this.offsetY||(this.dragging=!0)}touchStarted(t,i){var e;const s=null===(e=i.touches)||void 0===e?void 0:e[0];s&&(this.lastTouch=new g(s.clientX,s.clientY),s.clientX<this.offsetX||s.clientX>this.w+this.offsetX||s.clientY<this.offsetY||s.clientY>this.h+this.offsetY||(this.dragging=!0))}mouseDragged(t,i){this.dragging&&this.mainCharge.move(new g(i.movementX,i.movementY))}touchMoved(t,i){var e;if(this.dragging){const t=null===(e=i.touches)||void 0===e?void 0:e[0],s=new g(t.clientX,t.clientY);if(!t)return;this.mainCharge.move(s.clone().sub(this.lastTouch)),this.lastTouch=s}}mouseReleased(){this.dragging=!1}touchEnded(t,i){this.dragging=!1,this.lastTouch=void 0}drawMainParticle(t){t.stroke(this.color.black),this.mainRadius=this.mainMinRadius+(this.mainMaxRadius-this.mainMinRadius)*t.abs(this.charge)/20,t.strokeWeight(this.mainRadius+this.mainBorder);const i=(this.mainRadius+this.mainBorder)/2,e=this.mainCharge.position;e.x<+i?e.x=+i:e.x>this.w-i&&(e.x=this.w-i),e.y<+i?e.y=+i:e.y>this.h-i&&(e.y=this.h-i),this.mainCharge.draw(t),t.stroke(this.chargeColor(this.charge)),t.strokeWeight(this.mainRadius),this.mainCharge.draw(t,!1)}spawnParticles(t){const i=this.spawnRatio*t.deltaTime/1e3;let e=t.ceil(i);const s=i/e;for(;e-- >0;)if(t.random()<s){const i=new p(new g(t.random(0,t.width),t.random(0,t.height)));i.charge=t.random(-this.chargeVariation,this.chargeVariation),this.particles.push(i)}}applyElectricForces(t){const i=this.mainCharge.position;this.particles.forEach(e=>{if(!e.charge)return;const s=e.position.clone().sub(i),h=t.max(10,s.length);e.push(s.mul(this.k0*this.charge*e.charge/(h*h*h)*t.deltaTime/1e3))})}drawSideParticles(t){const i=this.sideMinRadius,e=(this.sideMaxRadius-this.sideMinRadius)/this.chargeVariation;this.particles.forEach(s=>{t.strokeWeight(i+t.round(t.abs(s.charge)*e)),t.stroke(this.chargeColor(s.charge)),s.draw(t)})}despawnParticles(t){const i=this.sideMaxRadius/2,e=this.mainRadius+this.mainBorder+i^2,s=this.mainCharge.position;this.particles.forEach((h,n)=>{(h.position.x<-i||h.position.y<-i||h.position.x>t.width+i||h.position.y>t.height+i||s.clone().sub(h.position).sqrLength<=e)&&this.particles.splice(n,1)})}chargeColor(t){return t>0?this.color.red:t<0?this.color.blue:this.color.purple}}return t.\u0275fac=function(i){return new(i||t)(r.Mb(w.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ceich-coulomb-interactive-canvas1","charge",""]],inputs:{charge:"charge"},features:[r.Bb([{provide:a.b,useExisting:Object(r.U)(()=>t)}]),r.zb],attrs:m,decls:0,vars:0,template:function(t,i){},encapsulation:2}),t})();const f=["ruler"];let b=(()=>{class t{constructor(t){this.cdRef=t,this.width=600,this.height=550,this.chargeValue=10,this.color="red"}ngAfterViewInit(){this.width=this.ruler.nativeElement.getBoundingClientRect().width,this.height=document.getElementById("mainContainer").getBoundingClientRect().height-78-64,this.cdRef.detectChanges()}onResize(){this.width=this.ruler.nativeElement.getBoundingClientRect().width,this.height=document.getElementById("mainContainer").getBoundingClientRect().height-78-64}onChangeCharge(t){this.chargeValue=t.value,this.color=t.value>0?"red":t.value<0?"blue":"purple"}}return t.\u0275fac=function(i){return new(i||t)(r.Mb(r.h))},t.\u0275cmp=r.Gb({type:t,selectors:[["ceich-coulomb-interactive"]],viewQuery:function(t,i){if(1&t&&r.tc(f,1),2&t){let t;r.fc(t=r.Zb())&&(i.ruler=t.first)}},hostBindings:function(t,i){1&t&&r.Yb("resize",function(){return i.onResize()},!1,r.hc)},decls:6,vars:5,consts:[[1,"mx-auto","fich-container","wide","py-0"],["ruler",""],[3,"width","height"],[3,"charge"],["thumbLabel","","min","-20","max","20","step","1",3,"value","color","input"]],template:function(t,i){1&t&&(r.Rb(0,"div",0),r.Nb(1,"span",null,1),r.Rb(3,"ceich-canvas",2),r.Nb(4,"ceich-coulomb-interactive-canvas1",3),r.Qb(),r.Rb(5,"mat-slider",4),r.Yb("input",function(t){return i.onChangeCharge(t)}),r.Qb(),r.Qb()),2&t&&(r.Cb(3),r.dc("width",i.width)("height",i.height),r.Cb(1),r.dc("charge",i.chargeValue),r.Cb(1),r.dc("value",i.chargeValue)("color",i.color))},directives:[u,v,h.a],encapsulation:2}),t})();const R=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ceich-coulomb"]],decls:1,vars:0,template:function(t,i){1&t&&r.Nb(0,"ceich-coulomb-interactive")},directives:[b],encapsulation:2}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[],imports:[[s.b,n.b.forChild(R),a.c,h.b]]}),t})()}}]);